# üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è TimeTracker Pro

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–æ—Ç–≤–µ—Ç–æ–≤)
4. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
5. [–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏](#—É—á–µ—Ç-–≤—Ä–µ–º–µ–Ω–∏)
6. [–ö–∞–ª–µ–Ω–¥–∞—Ä—å](#–∫–∞–ª–µ–Ω–¥–∞—Ä—å)
7. [–û—Ç—á–µ—Ç—ã](#–æ—Ç—á–µ—Ç—ã)
8. [–ó–∞—Ä–ø–ª–∞—Ç–∞](#–∑–∞—Ä–ø–ª–∞—Ç–∞)
9. [–ù–∞—Å—Ç—Ä–æ–π–∫–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
10. [Webhook'–∏](#webhook–∏)
11. [–ö–æ–¥—ã –æ—à–∏–±–æ–∫](#–∫–æ–¥—ã-–æ—à–∏–±–æ–∫)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

TimeTracker Pro –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç RESTful API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –∏ HTTP-–º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

### –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ë–∞–∑–æ–≤—ã–π URL**: `https://api.timetracker.pro/v1/`
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: —á–µ—Ä–µ–∑ URL path (`/v1/`)

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ HTTP –º–µ—Ç–æ–¥—ã
- `GET` - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `POST` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
- `PUT` - –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `PATCH` - –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `DELETE` - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

---

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT (JSON Web Token) –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –¢–æ–∫–µ–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `Bearer`.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

**POST** `/auth/login`

```json
{
  "email": "user@company.com",
  "password": "password123"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "expires_in": 3600,
    "user": {
      "id": 1,
      "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "email": "ivan.petrov@company.com",
      "role": "employee"
    }
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

```http
GET /api/v1/users/profile
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
Content-Type: application/json
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

**POST** `/auth/refresh`

```http
Authorization: Bearer YOUR_TOKEN
```

### –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

**POST** `/auth/logout`

```http
Authorization: Bearer YOUR_TOKEN
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

–í—Å–µ –æ—Ç–≤–µ—Ç—ã API –∏–º–µ—é—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "success": true,
  "data": {
    // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
  },
  "pagination": {
    "current_page": 1,
    "per_page": 20,
    "total": 100,
    "total_pages": 5
  },
  "timestamp": "2025-06-02T10:30:00Z"
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Validation failed",
    "details": {
      "email": ["Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è"],
      "password": ["–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤"]
    }
  },
  "timestamp": "2025-06-02T10:30:00Z"
}
```

---

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**GET** `/users/profile`

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan.petrov@company.com",
    "phone": "+996555123456",
    "position": "Frontend Developer",
    "department": "IT –æ—Ç–¥–µ–ª",
    "avatar": "https://api.timetracker.pro/avatars/1.jpg",
    "role": "employee",
    "salary": 80000,
    "hire_date": "2024-01-15",
    "status": "active",
    "settings": {
      "timezone": "Asia/Bishkek",
      "language": "ru",
      "notifications": {
        "email": true,
        "push": true
      }
    },
    "created_at": "2024-01-15T09:00:00Z",
    "updated_at": "2025-06-01T15:30:00Z"
  }
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

**PATCH** `/users/profile`

```json
{
  "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á –ü–µ—Ç—Ä–æ–≤",
  "phone": "+996555987654",
  "settings": {
    "timezone": "Europe/Moscow",
    "notifications": {
      "email": false
    }
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

**GET** `/users`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `page` - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `per_page` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20, –º–∞–∫—Å–∏–º—É–º: 100)
- `role` - –§–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏ (`admin`, `manager`, `employee`)
- `department` - –§–∏–ª—å—Ç—Ä –ø–æ –æ—Ç–¥–µ–ª—É
- `status` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (`active`, `inactive`)
- `search` - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```http
GET /users?page=1&per_page=10&role=employee&department=IT&search=–∏–≤–∞–Ω
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "email": "ivan.petrov@company.com",
      "position": "Frontend Developer",
      "department": "IT –æ—Ç–¥–µ–ª",
      "role": "employee",
      "status": "active",
      "last_activity": "2025-06-02T08:30:00Z"
    }